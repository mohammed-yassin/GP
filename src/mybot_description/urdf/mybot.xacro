<?xml version="1.0" encoding="utf-8"?>

<robot name="myrobot" xmlns:xacro="http://www.ros.org/wiki/xacro">

	  <xacro:property name="cameraSize" value="0.03"/>
  	  <xacro:property name="cameraMass" value="0.001"/>
	  <xacro:include filename="$(find mybot_description)/urdf/mybot.gazebo" />
	  <xacro:include filename="$(find mybot_description)/urdf/materials.xacro" />
	  <xacro:include filename="$(find mybot_description)/urdf/macros.xacro" />


  <link
    name="chassis">
    <inertial>
      <origin
        xyz="0.059941 0.20387 0.20658"
        rpy="0 0 0" />
      <mass
        value="1.00" />
      <inertia
        ixx="0.018662"
        ixy="-4.5513E-05"
        ixz="0.0009887"
        iyy="0.022098"
        iyz="0.0003587"
        izz="0.02544" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot_description/meshes/chassis.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.76863 0.77255 0.76863 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot_description/meshes/chassis.STL" />
      </geometry>
    </collision>
  </link>
  <link
    name="front_left_wheel">
    <inertial>
      <origin
        xyz="0.0013314 -0.0015346 0.0015292"
        rpy="0 0 1" />
      <mass
        value="0.15984" />
      <inertia
        ixx="0.00025061"
        ixy="8.0674E-09"
        ixz="6.7668E-07"
        iyy="0.0002506"
        iyz="-7.9498E-07"
        izz="0.00044609" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot_description/meshes/front_left_wheel.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.1098 0.1098 0.1098 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot_description/meshes/front_left_wheel.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="front_left_wheel_hinge"
    type="continuous">
    <origin
      xyz="0.27982 0.38747 0.075206"
      rpy="1.5708 -0.85568 3.1416" />
    <parent
      link="chassis" />
    <child
      link="front_left_wheel" />
    <axis
      xyz="0 0 1" />
    <limit
      effort="1000"
      velocity="100" />
  </joint>
  <link
    name="front_right_wheel">
    <inertial>
      <origin
        xyz="9.3829E-05 0.00013114 -0.0013953"
        rpy="0 0 1" />
      <mass
        value="0.15984" />
      <inertia
        ixx="0.00025061"
        ixy="1.3407E-08"
        ixz="-5.9803E-07"
        iyy="0.0002506"
        iyz="-8.4874E-07"
        izz="0.00044609" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot_description/meshes/front_right_wheel.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.1098 0.1098 0.1098 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot_description/meshes/front_right_wheel.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="front_right_wheel_hinge"
    type="continuous">
    <origin
      xyz="0.27982 0.030271 0.075206"
      rpy="-1.5708 -0.94008 3.1416" />
    <parent
      link="chassis" />
    <child
      link="front_right_wheel" />
    <axis
      xyz="0 0 -1" />
    <limit
      effort="1000"
      velocity="100" />
  </joint>
  <link
    name="middle_left_wheel">
    <inertial>
      <origin
        xyz="-0.0019962 0.00018008 0.00032398"
        rpy="0 0 1" />
      <mass
        value="0.15984" />
      <inertia
        ixx="0.00025062"
        ixy="1.0458E-08"
        ixz="-1.0139E-06"
        iyy="0.0002506"
        iyz="6.9819E-08"
        izz="0.00044609" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot_description/meshes/middle_left_wheel.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.1098 0.1098 0.1098 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot_description/meshes/middle_left_wheel.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="middle_left_wheel_hinge"
    type="continuous">
    <origin
      xyz="0.049624 0.38227 0.078035"
      rpy="-1.5708 0.089887 0" />
    <parent
      link="chassis" />
    <child
      link="middle_left_wheel" />
    <axis
      xyz="0 0 1" />
    <limit
      effort="1000"
      velocity="100" />
  </joint>
  <link
    name="middle_right_wheel">
    <inertial>
      <origin
        xyz="-0.00011287 -0.00011306 -0.00019002"
        rpy="0 0 1" />
      <mass
        value="0.15984" />
      <inertia
        ixx="0.00025061"
        ixy="1.3463E-08"
        ixz="7.2204E-07"
        iyy="0.0002506"
        iyz="7.0875E-07"
        izz="0.00044609" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot_description/meshes/middle_right_wheel.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.1098 0.1098 0.1098 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot_description/meshes/middle_right_wheel.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="middle_right_wheel_hinge"
    type="continuous">
    <origin
      xyz="0.049624 0.03027 0.078035"
      rpy="1.5708 0.79526 0" />
    <parent
      link="chassis" />
    <child
      link="middle_right_wheel" />
    <axis
      xyz="0 0 -1" />
    <limit
      effort="1000"
      velocity="100" />
  </joint>
  <link
    name="rear_left_wheel">
    <inertial>
      <origin
        xyz="-0.0020219 0.00018241 -0.0007759"
        rpy="0 0 1" />
      <mass
        value="0.15984" />
      <inertia
        ixx="0.00025062"
        ixy="1.0458E-08"
        ixz="-1.0139E-06"
        iyy="0.0002506"
        iyz="6.9819E-08"
        izz="0.00044609" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot_description/meshes/rear_left_wheel.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.1098 0.1098 0.1098 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot_description/meshes/rear_left_wheel.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="rear_left_wheel_hinge"
    type="continuous">
    <origin
      xyz="-0.16042 0.38776 0.096966"
      rpy="-1.5708 0.089887 0" />
    <parent
      link="chassis" />
    <child
      link="rear_left_wheel" />
    <axis
      xyz="0 0 1" />
    <limit
      effort="1000"
      velocity="100" />
  </joint>
  <link
    name="rear_right_wheel">
    <inertial>
      <origin
        xyz="-0.00013898 -7.3556E-05 0.00090978"
        rpy="0 0 1" />
      <mass
        value="0.15984" />
      <inertia
        ixx="0.00025062"
        ixy="1.2988E-08"
        ixz="9.068E-07"
        iyy="0.0002506"
        iyz="4.6289E-07"
        izz="0.00044609" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot_description/meshes/rear_right_wheel.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.1098 0.1098 0.1098 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot_description/meshes/rear_right_wheel.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="rear_right_wheel_hinge"
    type="continuous">
    <origin
      xyz="-0.16042 0.03027 0.096966"
      rpy="1.5708 0.49368 0" />
    <parent
      link="chassis" />
    <child
      link="rear_right_wheel" />
    <axis
      xyz="0 0 -1" />
    <limit
      effort="1000"
      velocity="100" />
  </joint>







	  <link name="camera">
	    <collision>
	      <origin xyz="0 0 0" rpy="0 0 0"/>
	      <geometry>
		<box size="${cameraSize} ${cameraSize} ${cameraSize}"/>
	      </geometry>
	    </collision>
	    <visual>
	      <origin xyz="0 0 0" rpy="0 0 0"/>
	      <transparency>1</transparency>
	      <geometry>
		<box size="${cameraSize} ${cameraSize} ${cameraSize}"/>
	      </geometry>
	      <material name="transparent"/>
	    </visual>
	    <inertial>
	      <mass value="${cameraMass}" />
              <material name="transparent"/>
              <transparency>1</transparency>
	      <origin xyz="0 0 0" rpy="0 0 0"/>
	      <box_inertia m="${cameraMass}" x="${cameraSize}" y="${cameraSize}" z="${cameraSize}" />
	      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6" />
	    </inertial>
	  </link>

	  <joint name="camera_joint" type="fixed">
	    <axis xyz="0 1 0" />
	    <origin xyz="0.130 0.2109 0.249" rpy="0 0 0"/>
	    <parent link="chassis"/>
	    <child link="camera"/>
            <material name="transparent"/>
            <transparency>1</transparency>
	  </joint>


	  <joint name="hokuyo_joint" type="fixed">
	    <axis xyz="0 1 0" />
	    <origin xyz="0.085 0.205 0.290" rpy="0 0 0"/>
	    <parent link="chassis"/>
	    <child link="hokuyo"/>
	  </joint>

	  <!-- Hokuyo Laser -->
	  <link name="hokuyo">
	    <collision>
	      <origin xyz="0 0 0" rpy="0 0 0"/>
	      <geometry>
	    <box size="0.1 0.1 0.1"/>
	      </geometry>
	    </collision>
	    <visual>
	      <origin xyz="0 0 0" rpy="0 0 0"/>
	      <material name="transparent"/>
	      <transparency>1</transparency>
	      <geometry>
		<mesh filename="package://mybot_description/meshes/hokuyo.dae"/>
	      </geometry>
	    </visual>
	    <inertial>
	      <mass value="0.000001" />
	      <origin xyz="0 0 0" rpy="0 0 0"/>
	      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6" />
	    </inertial>
	  </link>

</robot>
